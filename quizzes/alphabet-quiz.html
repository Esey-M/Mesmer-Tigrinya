<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ፊደላት ትግርኛ - Tigrinya Alphabet — Mesmer Tigrinya</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One:wght@400&family=Comic+Neue:wght@300;400;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../css/style.css">
  <style>
    .alphabet-grid {
      background: linear-gradient(135deg, #ffeef8, #f0f8ff);
      border-radius: 20px;
      padding: 2rem;
      box-shadow: 0 8px 25px rgba(0,0,0,0.1);
      margin-bottom: 2rem;
    }
    
    .grid-header {
      text-align: center;
      margin-bottom: 2rem;
    }
    
    .grid-title {
      font-size: 2rem;
      font-weight: 700;
      color: var(--brand);
      margin-bottom: 0.5rem;
    }
    
    .grid-subtitle {
      color: #666;
      font-size: 1.1rem;
    }
    
    .vowel-headers {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 0.5rem;
      margin-bottom: 1rem;
    }
    
    .vowel-header {
      background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
      color: white;
      padding: 0.8rem 0.5rem;
      border-radius: 12px;
      text-align: center;
      font-weight: 600;
      font-size: 0.9rem;
      box-shadow: 0 3px 8px rgba(0,0,0,0.2);
    }
    
    .alphabet-row {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 0.5rem;
      margin-bottom: 0.5rem;
    }
    
    .letter-card {
      background: white;
      border-radius: 12px;
      padding: 1rem 0.5rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 3px 8px rgba(0,0,0,0.1);
      border: 2px solid transparent;
      min-height: 80px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    
    .letter-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 15px rgba(0,0,0,0.2);
      border-color: var(--brand-secondary);
    }
    
    .letter-card:active {
      transform: translateY(-1px);
    }
    
    .letter-card.playing {
      animation: letterPulse 0.6s ease-in-out;
      background: linear-gradient(135deg, #4ecdc4, #ff6b6b);
      color: white;
    }
    
    .tigrinya-char {
      font-size: 1.8rem;
      font-weight: 700; 
      color: var(--brand);
      margin-bottom: 0.3rem;
      line-height: 1; 
    }
    
    .pronunciation {
      font-size: 0.8rem;
      color: #666;
      font-weight: 500;
    }
    
    .letter-card.playing .tigrinya-char,
    .letter-card.playing .pronunciation {
      color: white;
    }
    
    @keyframes letterPulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    
    .group-letter-info {
      text-align: center;
      margin-bottom: 1rem;
      padding: 1rem;
      background: linear-gradient(135deg, rgba(78, 205, 196, 0.1), rgba(255, 107, 107, 0.1));
      border-radius: 12px;
      border-left: 4px solid var(--brand-secondary);
      display: none;
    }
    
    .group-selected-letter {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--brand);
      margin-bottom: 0.3rem;
    }
    
    .group-selected-pronunciation {
      font-size: 1rem;
      color: #666;
      font-weight: 600;
    }
    
    .page-title {
      text-align: center;
      margin-bottom: 2rem;
      color: var(--brand);
    }
    
    .page-subtitle {
      text-align: center;
      color: #666;
      margin-bottom: 3rem;
      font-size: 1.1rem;
    }
    
    .sound-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
      background: white;
      border: 2px solid var(--brand-secondary);
      border-radius: 50%;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }
    
    .sound-toggle:hover {
      transform: scale(1.1);
    }
    
    .instructions {
      background: linear-gradient(135deg, #fff3cd, #d1ecf1);
      border-radius: 15px;
      padding: 1.5rem;
      margin-bottom: 2rem;
      text-align: center;
      border-left: 5px solid #ffc107;
    }
    
    .instructions h4 {
      color: var(--brand);
      margin-bottom: 0.5rem;
    }
    
    .instructions p {
      color: #666;
      margin: 0;
    }
    
    .alphabet-group {
      margin-bottom: 2rem;
      background: rgba(255, 255, 255, 0.8);
      border-radius: 15px;
      padding: 1.5rem;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    
    .group-title {
      font-size: 1.3rem;
      font-weight: 700;
      color: var(--brand);
      margin-bottom: 1rem;
      text-align: center;
      border-bottom: 3px solid var(--brand-secondary);
      padding-bottom: 0.5rem;
    }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center" href="../index.html">
        <span class="me-2">●</span>
        <span>መስመር ትግርኛ</span>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="mainNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="../index.html">ቅድመ ገጽ</a></li>
          <li class="nav-item"><a class="nav-link" href="../quizzes.html">ትምህርትታት</a></li>
          <li class="nav-item"><a class="nav-link" href="../parents.html">ንወለዲ</a></li>
          <li class="nav-item"><a class="nav-link" href="../ebooks.html">መምሃሪ መጻሕፍቲ</a></li>
          <li class="nav-item"><a class="nav-link" href="../contact.html">ኣብ ርክብ ንኺድ</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Sound Toggle Button -->
  <button id="soundToggle" class="btn btn-outline-secondary sound-toggle" title="Toggle Sounds">🔊</button>

  <main class="py-5" style="background: var(--surface); min-height: calc(100vh - 200px);">
    <div class="container">
      <!-- Page Header -->
      <div class="page-title">
        <h1 class="display-4 fw-bold">🔤 ፊደላት ትግርኛ</h1>
        <p class="page-subtitle">ንፊደላት ትግርኛ ተማሃሩ እሞ ንድምጾም ሰምዑ</p>
              </div>

      <!-- Instructions -->
      <div class="instructions">
        <h4>🎯 እንታይ ክትገብር ኣሎካ</h4>
        <p>ንፊደል ኣብ ላዕሊ ጠውቕ እሞ ንድምጹ ሰምዕ! ኣብ ታሕተዋይ ክፋል እቲ ፊደል እተመርጸ ክርአ እዩ።</p>
              </div>


      <!-- Alphabet Grid -->
      <div class="alphabet-grid">
        <div class="grid-header">
          <h2 class="grid-title">ፊደላት ትግርኛ - Tigrinya Alphabet</h2>
          <p class="grid-subtitle">ንፊደላት ተማሃሩ እሞ ንድምጾም ሰምዑ</p>
          </div>

        <!-- Vowel Headers -->
        <div class="vowel-headers">
          <div class="vowel-header">Base</div>
          <div class="vowel-header">U</div>
          <div class="vowel-header">I</div>
          <div class="vowel-header">A</div>
          <div class="vowel-header">E</div>
          <div class="vowel-header">Ih</div>
          <div class="vowel-header">O</div>
        </div>

        <!-- Alphabet Groups -->
        <div id="alphabetGroups"></div>
      </div>

      <!-- Back to Quizzes Button -->
      <div class="text-center mt-5">
        <a href="../quizzes.html" class="btn btn-primary btn-lg">🎮 ናብ መዝገብ ምዝንጋዕ</a>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="container footer-inner">
      <div class="footer-links">
        <a href="../contact.html">Contact Us</a>
        <a href="../privacy-policy.html">Privacy Policy</a>
        <a href="../terms-of-use.html">Terms of Use</a>
      </div>
      <div class="footer-social" aria-label="Social media links">
        <a href="#" aria-label="Facebook"></a>
        <a href="#" aria-label="Twitter"></a>
        <a href="#" aria-label="Instagram"></a>
        <a href="#" aria-label="YouTube">📺</a>
        <a href="#" aria-label="WhatsApp">📱</a>
      </div>
      <div class="footer-copyright">
        <p>&copy; 2024 መስመር ትግርኛ. All rights reserved.</p>
        <div class="footer-channel-links">
          <a href="#" class="channel-link youtube-link" aria-label="YouTube Channel">
            <span class="channel-icon">📺</span>
            <span class="channel-text">YouTube Channel</span>
          </a>
          <a href="#" class="channel-link whatsapp-link" aria-label="WhatsApp Channel">
            <span class="channel-icon">📱</span>
            <span class="channel-text">WhatsApp Channel</span>
          </a>
        </div>
      </div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../js/soundConfig.js"></script>
  <script src="../js/quizApp.js"></script>
  <script>
    // Tigrinya alphabet data with all 7 vowel forms
    const tigrinyaAlphabet = [
      { base: 'ሀ', forms: ['ሀ', 'ሁ', 'ሂ', 'ሃ', 'ሄ', 'ህ', 'ሆ'], sounds: ['heh', 'hoo', 'hee', 'ha', 'hieh', 'hih', 'ho'] },
      { base: 'ለ', forms: ['ለ', 'ሉ', 'ሊ', 'ላ', 'ሌ', 'ል', 'ሎ'], sounds: ['leh', 'loo', 'lee', 'la', 'lieh', 'lih', 'lo'] },
      { base: 'ሐ', forms: ['ሐ', 'ሑ', 'ሒ', 'ሓ', 'ሔ', 'ሕ', 'ሖ'], sounds: ['heh', 'hoo', 'hee', 'ha', 'hieh', 'hih', 'ho'] },
      { base: 'መ', forms: ['መ', 'ሙ', 'ሚ', 'ማ', 'ሜ', 'ም', 'ሞ'], sounds: ['meh', 'moo', 'mee', 'ma', 'mieh', 'mih', 'mo'] },
      { base: 'ሠ', forms: ['ሠ', 'ሡ', 'ሢ', 'ሣ', 'ሤ', 'ሥ', 'ሦ'], sounds: ['seh', 'soo', 'see', 'sa', 'sieh', 'sih', 'so'] },
      { base: 'ረ', forms: ['ረ', 'ሩ', 'ሪ', 'ራ', 'ሬ', 'ር', 'ሮ'], sounds: ['reh', 'roo', 'ree', 'ra', 'rieh', 'rih', 'ro'] },
      { base: 'ሰ', forms: ['ሰ', 'ሱ', 'ሲ', 'ሳ', 'ሴ', 'ስ', 'ሶ'], sounds: ['seh', 'soo', 'see', 'sa', 'sieh', 'sih', 'so'] },
      { base: 'ሸ', forms: ['ሸ', 'ሹ', 'ሺ', 'ሻ', 'ሼ', 'ሽ', 'ሾ'], sounds: ['sheh', 'shoo', 'shee', 'sha', 'shieh', 'shih', 'sho'] },
      { base: 'ቀ', forms: ['ቀ', 'ቁ', 'ቂ', 'ቃ', 'ቄ', 'ቅ', 'ቆ'], sounds: ['qeh', 'qoo', 'qee', 'qa', 'qieh', 'qih', 'qo'] },
      { base: 'በ', forms: ['በ', 'ቡ', 'ቢ', 'ባ', 'ቤ', 'ብ', 'ቦ'], sounds: ['beh', 'boo', 'bee', 'ba', 'bieh', 'bih', 'bo'] },
      { base: 'ተ', forms: ['ተ', 'ቱ', 'ቲ', 'ታ', 'ቴ', 'ት', 'ቶ'], sounds: ['teh', 'too', 'tee', 'ta', 'tieh', 'tih', 'to'] },
      { base: 'ቸ', forms: ['ቸ', 'ቹ', 'ቺ', 'ቻ', 'ቼ', 'ች', 'ቾ'], sounds: ['cheh', 'choo', 'chee', 'cha', 'chieh', 'chih', 'cho'] },
      { base: 'ኀ', forms: ['ኀ', 'ኁ', 'ኂ', 'ኃ', 'ኄ', 'ኅ', 'ኆ'], sounds: ['heh', 'hoo', 'hee', 'ha', 'hieh', 'hih', 'ho'] },
      { base: 'ነ', forms: ['ነ', 'ኑ', 'ኒ', 'ና', 'ኔ', 'ን', 'ኖ'], sounds: ['neh', 'noo', 'nee', 'na', 'nieh', 'nih', 'no'] },
      { base: 'ኘ', forms: ['ኘ', 'ኙ', 'ኚ', 'ኛ', 'ኜ', 'ኝ', 'ኞ'], sounds: ['nyeh', 'nyoo', 'nyee', 'nya', 'nyieh', 'nyih', 'nyo'] },
      { base: 'አ', forms: ['አ', 'ኡ', 'ኢ', 'ኣ', 'ኤ', 'እ', 'ኦ'], sounds: ['aah', 'oo', 'ee', 'aa', 'ieh', 'ih', 'o'] },
      { base: 'ከ', forms: ['ከ', 'ኩ', 'ኪ', 'ካ', 'ኬ', 'ክ', 'ኮ'], sounds: ['keh', 'koo', 'kee', 'ka', 'kieh', 'kih', 'ko'] },
      { base: 'ኸ', forms: ['ኸ', 'ኹ', 'ኺ', 'ኻ', 'ኼ', 'ኽ', 'ኾ'], sounds: ['kheh', 'khoo', 'khee', 'kha', 'khieh', 'khih', 'kho'] },
      { base: 'ወ', forms: ['ወ', 'ዉ', 'ዊ', 'ዋ', 'ዌ', 'ው', 'ዎ'], sounds: ['weh', 'woo', 'wee', 'wa', 'wieh', 'wih', 'wo'] },
      { base: 'ዐ', forms: ['ዐ', 'ዑ', 'ዒ', 'ዓ', 'ዔ', 'ዕ', 'ዖ'], sounds: ['aah', 'oo', 'ee', 'aa', 'ieh', 'ih', 'o'] },
      { base: 'ዘ', forms: ['ዘ', 'ዙ', 'ዚ', 'ዛ', 'ዜ', 'ዝ', 'ዞ'], sounds: ['zeh', 'zoo', 'zee', 'za', 'zieh', 'zih', 'zo'] },
      { base: 'ዠ', forms: ['ዠ', 'ዡ', 'ዢ', 'ዣ', 'ዤ', 'ዥ', 'ዦ'], sounds: ['zheh', 'zhoo', 'zhee', 'zha', 'zhieh', 'zhih', 'zho'] },
      { base: 'የ', forms: ['የ', 'ዩ', 'ዪ', 'ያ', 'ዬ', 'ይ', 'ዮ'], sounds: ['yeh', 'yoo', 'yee', 'ya', 'yieh', 'yih', 'yo'] },
      { base: 'ደ', forms: ['ደ', 'ዱ', 'ዲ', 'ዳ', 'ዴ', 'ድ', 'ዶ'], sounds: ['deh', 'doo', 'dee', 'da', 'dieh', 'dih', 'do'] },
      { base: 'ጀ', forms: ['ጀ', 'ጁ', 'ጂ', 'ጃ', 'ጄ', 'ጅ', 'ጆ'], sounds: ['jeh', 'joo', 'jee', 'ja', 'jieh', 'jih', 'jo'] },
      { base: 'ገ', forms: ['ገ', 'ጉ', 'ጊ', 'ጋ', 'ጌ', 'ግ', 'ጎ'], sounds: ['geh', 'goo', 'gee', 'ga', 'gieh', 'gih', 'go'] },
      { base: 'ጠ', forms: ['ጠ', 'ጡ', 'ጢ', 'ጣ', 'ጤ', 'ጥ', 'ጦ'], sounds: ['teh', 'too', 'tee', 'ta', 'tieh', 'tih', 'to'] },
      { base: 'ጨ', forms: ['ጨ', 'ጩ', 'ጪ', 'ጫ', 'ጬ', 'ጭ', 'ጮ'], sounds: ['cheh', 'choo', 'chee', 'cha', 'chieh', 'chih', 'cho'] },
      { base: 'ጰ', forms: ['ጰ', 'ጱ', 'ጲ', 'ጳ', 'ጴ', 'ጵ', 'ጶ'], sounds: ['peh', 'poo', 'pee', 'pa', 'pieh', 'pih', 'po'] },
      { base: 'ጸ', forms: ['ጸ', 'ጹ', 'ጺ', 'ጻ', 'ጼ', 'ጽ', 'ጾ'], sounds: ['tseh', 'tsoo', 'tsee', 'tsa', 'tsieh', 'tsih', 'tso'] },
      { base: 'ፀ', forms: ['ፀ', 'ፁ', 'ፂ', 'ፃ', 'ፄ', 'ፅ', 'ፆ'], sounds: ['tseh', 'tsoo', 'tsee', 'tsa', 'tsieh', 'tsih', 'tso'] },
      { base: 'ፈ', forms: ['ፈ', 'ፉ', 'ፊ', 'ፋ', 'ፌ', 'ፍ', 'ፎ'], sounds: ['feh', 'foo', 'fee', 'fa', 'fieh', 'fih', 'fo'] },
      { base: 'ፐ', forms: ['ፐ', 'ፑ', 'ፒ', 'ፓ', 'ፔ', 'ፕ', 'ፖ'], sounds: ['peh', 'poo', 'pee', 'pa', 'pieh', 'pih', 'po'] }
    ];

    // DOM elements
    const soundToggle = document.getElementById('soundToggle');
    const alphabetGroups = document.getElementById('alphabetGroups');
    
    let soundEnabled = localStorage.getItem('soundEnabled') !== 'false';
    updateSoundToggle();
    
    // Generate alphabet groups (4 rows each)
    function generateAlphabetGroups() {
      alphabetGroups.innerHTML = '';
      
      // Split alphabet into groups of 4
      const groups = [];
      for (let i = 0; i < tigrinyaAlphabet.length; i += 4) {
        groups.push(tigrinyaAlphabet.slice(i, i + 4));
      }
      
      groups.forEach((group, groupIndex) => {
        const groupDiv = document.createElement('div');
        groupDiv.className = 'alphabet-group';
        
        // Group title
        const title = document.createElement('h3');
        title.className = 'group-title';
        title.textContent = `ፊደላት ${groupIndex * 4 + 1}-${Math.min((groupIndex + 1) * 4, tigrinyaAlphabet.length)}`;
        groupDiv.appendChild(title);
        
        // Letter info display for this group
        const letterInfo = document.createElement('div');
        letterInfo.className = 'group-letter-info';
        letterInfo.innerHTML = `
          <div class="group-selected-letter">ሀ</div>
          <div class="group-selected-pronunciation">heh</div>
        `;
        groupDiv.appendChild(letterInfo);
        
        // Create rows for this group
        group.forEach(letterData => {
          const row = document.createElement('div');
          row.className = 'alphabet-row';
          
          // Create 7 cards (only the 7 vowel forms, no wa form)
          for (let i = 0; i < 7; i++) {
            const card = document.createElement('div');
            card.className = 'letter-card';
            
            card.innerHTML = `
              <div class="tigrinya-char">${letterData.forms[i]}</div>
              <div class="pronunciation">${letterData.sounds[i]}</div>
            `;
            card.dataset.letter = letterData.forms[i];
            card.dataset.pronunciation = letterData.sounds[i];
            card.dataset.groupIndex = groupIndex;
            
            card.addEventListener('click', () => handleLetterClick(card, groupDiv));
            row.appendChild(card);
          }
          
          groupDiv.appendChild(row);
        });
        
        alphabetGroups.appendChild(groupDiv);
      });
    }
    
    // Handle letter click
    function handleLetterClick(card, groupDiv) {
      const letterChar = card.dataset.letter;
      const letterPronunciation = card.dataset.pronunciation;
      
      // Find the letter info display within this group
      const letterInfo = groupDiv.querySelector('.group-letter-info');
      const selectedLetter = letterInfo.querySelector('.group-selected-letter');
      const selectedPronunciation = letterInfo.querySelector('.group-selected-pronunciation');
      
      // Update letter info display for this group
      selectedLetter.textContent = letterChar;
      selectedPronunciation.textContent = letterPronunciation;
      letterInfo.style.display = 'block';
      
      // Add playing animation
      card.classList.add('playing');
      setTimeout(() => {
        card.classList.remove('playing');
      }, 600);
      
      // Play sound if enabled
      if (soundEnabled) {
        playLetterSound(letterChar, letterPronunciation);
      }
      
      // Don't scroll - keep user in current position
    }
    
    // Sound toggle functionality
    soundToggle.addEventListener('click', () => {
      soundEnabled = !soundEnabled;
      localStorage.setItem('soundEnabled', soundEnabled);
      updateSoundToggle();
    });
    
    function updateSoundToggle() {
      soundToggle.textContent = soundEnabled ? '🔊' : '🔇';
      soundToggle.title = soundEnabled ? 'Disable Sounds' : 'Enable Sounds';
    }
    
    function playLetterSound(letter, pronunciation) {
      try {
        // Map pronunciation to audio file names
        const audioFileMap = {
          'heh': 'he.MP3',
          'hoo': 'hu.MP3', 
          'hee': 'hi.MP3',
          'ha': 'ha.MP3',
          'hieh': 'hie.MP3',
          'hih': 'h.MP3',
          'ho': 'ho.MP3',
          'leh': 'le.MP3',
          'loo': 'lu.MP3',
          'lee': 'li.MP3', 
          'la': 'la.MP3',
          'lieh': 'lie.MP3',
          'lih': 'l.MP3',
          'lo': 'lo.MP3',
          'meh': 'me.MP3',
          'moo': 'mu.MP3',
          'mee': 'mi.MP3',
          'ma': 'ma.MP3',
          'mieh': 'mie.MP3',
          'mih': 'm.MP3',
          'mo': 'mo.MP3',
          'seh': 'se.MP3',
          'soo': 'su.MP3',
          'see': 'si.MP3',
          'sa': 'sa.MP3',
          'sieh': 'sie.MP3',
          'sih': 's.MP3',
          'so': 'so.MP3',
          'reh': 're.MP3',
          'roo': 'ru.MP3',
          'ree': 'ri.MP3',
          'ra': 'ra.MP3',
          'rieh': 'rie.MP3',
          'rih': 'r.MP3',
          'ro': 'ro.MP3',
          'sheh': 'she.MP3',
          'shoo': 'shu.MP3',
          'shee': 'shi.MP3',
          'sha': 'sha.MP3',
          'shieh': 'shie.MP3',
          'shih': 'sh.MP3',
          'sho': 'sho.MP3'
        };
        
        // Special mapping for Row 3 (ሐ) - use specific Tigrinya character audio files
        const tigrinyaCharAudioMap = {
          'ሐ': 'ሐ.MP3',
          'ሑ': 'ሑ.MP3', 
          'ሒ': 'ሒ.MP3',
          'ሓ': 'ሓ.MP3',
          'ሔ': 'ሔ.MP3',
          'ሕ': 'ሕ.MP3',
          'ሖ': 'ሖ.MP3'
        };
        
        // First check if we have a specific Tigrinya character audio file
        const tigrinyaAudioFile = tigrinyaCharAudioMap[letter];
        if (tigrinyaAudioFile) {
          const audio = new Audio(`../audio/alphabets/${tigrinyaAudioFile}`);
          audio.volume = 0.7;
          audio.play().catch(error => {
            console.log(`🔊 Tigrinya audio file not found: ${tigrinyaAudioFile}`);
            // Fallback to pronunciation-based audio
            playPronunciationAudio(pronunciation, letter);
          });
          console.log(`🔊 Playing Tigrinya audio file: ${tigrinyaAudioFile} for letter ${letter} (${pronunciation})`);
        } else {
          // For other rows, use pronunciation-based audio directly
          const audioFile = audioFileMap[pronunciation];
          if (audioFile) {
            const audio = new Audio(`../audio/alphabets/${audioFile}`);
            audio.volume = 0.7;
            audio.play().catch(error => {
              console.log(`🔊 Audio file not found: ${audioFile}`);
              // Fallback to generated sound
              playGeneratedSound(letter, pronunciation);
            });
            console.log(`🔊 Playing audio file: ${audioFile} for letter ${letter} (${pronunciation})`);
          } else {
            console.log(`🔊 No audio file mapped for pronunciation: ${pronunciation}`);
            // Fallback to generated sound
            playGeneratedSound(letter, pronunciation);
          }
        }
      } catch (error) {
        console.log(`🔊 Error playing sound for letter ${letter} (${pronunciation}):`, error);
        // Fallback to generated sound
        playGeneratedSound(letter, pronunciation);
      }
    }
    
    // Fallback function for generated sounds
    function playGeneratedSound(letter, pronunciation) {
      try {
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();
        
        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);
        
        // Different frequencies for different sounds
        const baseFreq = 220;
        const freqMap = {
          'h': 0, 'l': 2, 'm': 4, 's': 7, 'r': 9, 'sh': 11, 'q': 12, 'b': 14,
          't': 16, 'ch': 18, 'n': 19, 'ny': 21, 'a': 24, 'k': 26, 'kh': 28,
          'w': 29, 'z': 31, 'zh': 33, 'y': 34, 'd': 36, 'j': 38, 'g': 40,
          'p': 43, 'ts': 45, 'f': 46
        };
        
        let frequency = baseFreq;
        for (const [sound, semitones] of Object.entries(freqMap)) {
          if (pronunciation.includes(sound)) {
            frequency = baseFreq * Math.pow(2, semitones / 12);
            break;
          }
        }
        
        oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
        oscillator.type = 'sine';
        
        gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
        
        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + 0.5);
        
        console.log(`🔊 Playing generated sound for letter ${letter} (${pronunciation})`);
      } catch (error) {
        console.log(`🔊 Generated sound not available for letter ${letter} (${pronunciation})`);
      }
    }
    
    // Initialize
    generateAlphabetGroups();
    
    // Initialize sound manager if available
    if (window.soundManager) {
      window.soundManager.setEnabled(soundEnabled);
    }
  </script>
</body>
</html>