<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Memory Game ‚Äî Tigrinya</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="assets/css/styles.css" />
  <style>
    .grid { display:grid; grid-template-columns: repeat(4, 1fr); gap:12px; }
    .card-tile { height:90px; display:flex; align-items:center; justify-content:center; background:#fff; border-radius:12px; box-shadow: var(--card-shadow); cursor:pointer; font-size:28px; }
    .matched { background:#dcfce7; cursor:default; }
    @media (max-width:576px){ .grid { grid-template-columns: repeat(3, 1fr); } }
  </style>
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary"><div class="container"><a class="navbar-brand" href="index.html">·àò·àµ·àò·à≠ ·âµ·åç·à≠·äõ</a></div></nav>
  <main class="py-5" style="background: var(--surface);">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8 col-lg-7">
          <div class="card shadow border-0" style="border-radius:16px;" id="gameCard">
            <div class="card-body p-4">
              <h1 class="h4 mb-3" style="font-family:'Playfair Display', Georgia, serif;">Memory Game (word ‚Üî picture)</h1>
              <div class="grid" id="grid"></div>
            </div>
          </div>
          <div id="result" class="card result-card shadow border-0 mt-4 d-none">
            <div class="card-body text-center">
              <h2 class="h4">Nice memory!</h2>
              <p id="scoreLine" class="mb-3">You matched 0 pairs.</p>
              <a href="quizzes.html" class="btn btn-primary">Back to Quizzes</a>
              <button id="restartBtn" class="btn btn-outline-primary ms-2">Play Again</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
  <footer class="site-footer"><div class="container footer-inner"><div class="footer-top"></div><div class="footer-links"><a href="#">Contact Us</a><a href="#">Privacy Policy</a><a href="#">Terms of Use</a></div></div></footer>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const pairs=[
      { word:'·â§·âµ', pic:'üè†' },
      { word:'·àò·ä™·äì', pic:'üöó' },
      { word:'·ä£·äï·â†·à≥', pic:'ü¶Å' },
      { word:'·â†·à≠·â†·à®', pic:'üçé' },
      { word:'·àò·åΩ·àì·çç', pic:'üìö' },
    ];

    const grid=document.getElementById('grid');
    const gameCard=document.getElementById('gameCard');
    const resultCard=document.getElementById('result');
    const scoreLine=document.getElementById('scoreLine');
    const restartBtn=document.getElementById('restartBtn');

    let tiles=[]; let first=null; let second=null; let matches=0;

    function start(){
      tiles=[]; first=null; second=null; matches=0; grid.innerHTML='';
      const deck=[];
      pairs.forEach(p=>{ deck.push({type:'word', val:p.word}); deck.push({type:'pic', val:p.pic}); });
      deck.sort(()=>Math.random()-0.5);
      deck.forEach((card,i)=>{
        const el=document.createElement('button'); el.type='button'; el.className='card-tile'; el.dataset.index=i; el.textContent='?';
        el.addEventListener('click',()=>flip(i, el, card)); grid.appendChild(el); tiles.push({el, card, flipped:false, matched:false});
      });
    }

    function flip(i, el, card){
      const t=tiles[i]; if(t.matched || t.flipped) return; t.flipped=true; el.textContent=card.val;
      if(!first){ first=t; }
      else { second=t; checkMatch(); }
    }

    function checkMatch(){
      if(!first || !second) return;
      const a=first.card, b=second.card;
      const isPair = (a.type==='word' && b.type==='pic' && pairs.find(p=>p.word===a.val && p.pic===b.val)) ||
                     (a.type==='pic' && b.type==='word' && pairs.find(p=>p.word===b.val && p.pic===a.val));
      if(isPair){
        first.matched=second.matched=true; first.el.classList.add('matched'); second.el.classList.add('matched'); matches++; resetFlip();
        if(matches===pairs.length) finish();
      } else {
        setTimeout(()=>{ first.flipped=second.flipped=false; first.el.textContent='?'; second.el.textContent='?'; resetFlip(); }, 700);
      }
    }

    function resetFlip(){ first=null; second=null; }
    function finish(){ gameCard.classList.add('d-none'); resultCard.classList.remove('d-none'); scoreLine.textContent=`You matched ${matches} pairs.`; }
    restartBtn.addEventListener('click',()=>{ gameCard.classList.remove('d-none'); resultCard.classList.add('d-none'); start(); });

    start();
  </script>
</body>
</html>
